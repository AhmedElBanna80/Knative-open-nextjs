# Final Runtime Stage (Distroless)
# we assume the build context (dist-deploy) contains everything prepared by the builder
FROM gcr.io/distroless/cc-debian12

WORKDIR /app

# Copy everything from the build context (dist-deploy)
COPY . .

ENV NODE_ENV=production
ENV NODE_PATH=/app/node_modules
ENV PORT=3000
ENV HOSTNAME=0.0.0.0

CMD ["./server"]
